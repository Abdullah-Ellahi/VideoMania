# VideoMania Upload Flow - Visual Guide

## ðŸŽ¬ Complete Application Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER VISITS /Videos/Upload                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  UI: Modern Upload Interface         â”‚
        â”‚  - Click to upload                   â”‚
        â”‚  - Drag & drop area                  â”‚
        â”‚  - File preview ready                â”‚
        â”‚  - Title & description inputs        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                     â”‚
                â–¼                     â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Click to   â”‚  OR  â”‚  Drag & Drop â”‚
        â”‚   Upload    â”‚      â”‚     File     â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  FILE SELECTED                   â”‚
        â”‚  - File name shown               â”‚
        â”‚  - File size displayed           â”‚
        â”‚  - Preview card visible          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                     â”‚
            â–¼                     â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ Enter Title â”‚      â”‚ Enter Description â”‚
      â”‚   (Required)â”‚      â”‚    (Optional)    â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                   â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Click Upload Button â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          â•‘  FRONTEND: REQUEST SAS TOKEN     â•‘
          â•‘  POST /api/getuploadSas          â•‘
          â•‘  { "fileName": "video.mp4" }     â•‘
          â•šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•
                         â”‚
                         â–¼
          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          â•‘  BACKEND: VALIDATE & GENERATE    â•‘
          â•‘  - Check file extension          â•‘
          â•‘  - Generate unique blob name     â•‘
          â•‘  - Create SAS token              â•‘
          â•‘  - Set 30-min expiry             â•‘
          â•šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•
                         â”‚
                         â–¼
          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          â•‘  FRONTEND: RECEIVE SAS URI       â•‘
          â•‘  {                               â•‘
          â•‘    "sasUri": "https://...",      â•‘
          â•‘    "blobName": "uuid_filename",  â•‘
          â•‘    "expiresIn": 1800             â•‘
          â•‘  }                               â•‘
          â•šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•
                         â”‚
                         â–¼
          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          â•‘  FRONTEND: DIRECT UPLOAD         â•‘
          â•‘  PUT request to SAS URI          â•‘
          â•‘  - File data as body             â•‘
          â•‘  - Direct to Blob Storage        â•‘
          â•‘  - No server processing          â•‘
          â•‘  - Progress tracking             â•‘
          â•šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•
                         â”‚
                         â–¼
          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          â•‘  AZURE BLOB STORAGE              â•‘
          â•‘  - Receives file                 â•‘
          â•‘  - Stores with generated name    â•‘
          â•‘  - Returns 201 Created           â•‘
          â•šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•
                         â”‚
                         â–¼
          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          â•‘  FRONTEND: SUBMIT FORM           â•‘
          â•‘  POST /Videos/Upload             â•‘
          â•‘  - Include blob name             â•‘
          â•‘  - Title, description            â•‘
          â•‘  - CSRF token                    â•‘
          â•šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•
                         â”‚
                         â–¼
          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          â•‘  BACKEND: SAVE METADATA          â•‘
          â•‘  - Create Video object           â•‘
          â•‘  - Add to Cosmos DB              â•‘
          â•‘  - Link user & blob              â•‘
          â•‘  - Store timestamp               â•‘
          â•šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•
                         â”‚
                         â–¼
          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          â•‘  COSMOS DB STORAGE               â•‘
          â•‘  {                               â•‘
          â•‘    "id": "video-guid",           â•‘
          â•‘    "userId": "user-id",          â•‘
          â•‘    "title": "Video Title",       â•‘
          â•‘    "url": "uuid_filename.mp4",   â•‘
          â•‘    "uploadedAt": "timestamp"     â•‘
          â•‘  }                               â•‘
          â•šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•
                         â”‚
                         â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  âœ… SUCCESS MESSAGE DISPLAYED     â”‚
        â”‚  "Video 'Title' uploaded!"        â”‚
        â”‚                                   â”‚
        â”‚  User can:                        â”‚
        â”‚  - View all videos                â”‚
        â”‚  - Upload another                 â”‚
        â”‚  - Share video                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Security Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User Clicks Upload with Video File    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ File Validation         â”‚
    â”‚ - Extension check âœ“     â”‚
    â”‚ - Size check âœ“          â”‚
    â”‚ - Type check âœ“          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ SAS Token Generated     â”‚
    â”‚ - Unique per file       â”‚
    â”‚ - 30-min expiry         â”‚
    â”‚ - Write-only access     â”‚
    â”‚ - No delete/read        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Direct to Blob Storage  â”‚
    â”‚ - No server upload      â”‚
    â”‚ - Direct blob access    â”‚
    â”‚ - SAS validates         â”‚
    â”‚ - Token expires         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Metadata in Database    â”‚
    â”‚ - Link to blob          â”‚
    â”‚ - User association      â”‚
    â”‚ - Timestamp             â”‚
    â”‚ - Immutable record      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT BROWSER                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Upload UI Component                                   â”‚ â”‚
â”‚  â”‚  - File input                                          â”‚ â”‚
â”‚  â”‚  - Drag zone                                           â”‚ â”‚
â”‚  â”‚  - Preview                                             â”‚ â”‚
â”‚  â”‚  - Form fields                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  JavaScript Functions                                  â”‚ â”‚
â”‚  â”‚  - getSasToken()                                       â”‚ â”‚
â”‚  â”‚  - uploadToBlob()                                      â”‚ â”‚
â”‚  â”‚  - handleFileSelect()                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                                    â”‚
            â”‚                                    â”‚
    (1) POST /api/getuploadSas          (3) PUT to SAS URI
            â”‚                                    â”‚
            â–¼                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ASP.NET CORE BACKEND           â”‚ â”‚  AZURE BLOB STORAGE    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚ â”‚                        â”‚
â”‚  GetUploadSas.cshtml.cs           â”‚ â”‚  Videos Container      â”‚
â”‚  - Validate filename              â”‚ â”‚  - Stores uploaded     â”‚
â”‚  - Check file extension           â”‚ â”‚    video files         â”‚
â”‚  - Generate SAS token             â”‚ â”‚  - Secure access       â”‚
â”‚  - Return URI & blob name         â”‚ â”‚  - Scalable storage    â”‚
â”‚                                   â”‚ â”‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                                     â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                  (2) Response
                  SAS URI + blob name
                          â”‚
                          â–¼
                   Client validates
                   & stores for use
                          â”‚
                          â””â”€â†’ (3) Upload file
                              using SAS URI
                                  â”‚
                                  â””â”€â†’ File stored
                                      in Blob Storage
                                          â”‚
                                          â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  AZURE COSMOS DB                                   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚                                                     â”‚
        â”‚  Videos Collection:                                â”‚
        â”‚  {                                                 â”‚
        â”‚    id: "video-guid",                               â”‚
        â”‚    userId: "user-id",                              â”‚
        â”‚    title: "Video Title",                           â”‚
        â”‚    url: "blob-name",  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
        â”‚    uploadedAt: "timestamp"              â”‚          â”‚
        â”‚  }                                      â”‚          â”‚
        â”‚                                         â”‚          â”‚
        â”‚  Reference to blob name â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
        â”‚  Links metadata to storage                         â”‚
        â”‚                                                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ Performance Characteristics

```
Traditional Upload              VS      Direct SAS Upload (VideoMania)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•      â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Browser                              Browser
  â”‚                                    â”‚
  â”œâ”€> File data                        â”œâ”€> Request SAS
  â”‚   to server                        â”‚   to server
  â”‚                                    â”‚
  â–¼                                    â–¼
Server receives                      Server validates
  â”‚                                    â”‚
  â”œâ”€> Process file                    â”œâ”€> Generate token
  â”‚                                    â”‚
  â”œâ”€> Upload to                       â–¼
  â”‚   storage                        Browser
  â”‚                                    â”‚
  â”œâ”€> Store                           â”œâ”€> Upload file
  â”‚   metadata                        â”‚   directly to
  â”‚                                    â”‚   storage
  â–¼                                    â”‚
Database                              â–¼
  â”‚                                   Storage
  â”‚                                    â”‚
  â”‚                                    â”œâ”€> Notify backend
  â”‚                                    â”‚   of completion
  â”‚                                    â”‚
  â”‚                                    â–¼
  â”‚                                   Database
  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Benefits of Direct Upload:
âœ“ 50%+ reduction in server bandwidth
âœ“ Faster upload for large files
âœ“ Server CPU not used for I/O
âœ“ Better for concurrent uploads
âœ“ Improved user experience
âœ“ Reduced server costs
```

---

## ðŸ”„ Error Handling Flow

```
Upload Process
     â”‚
     â”œâ”€ File Selection Error
     â”‚      â””â”€â†’ "Please select a file"
     â”‚
     â”œâ”€ File Validation Error
     â”‚      â”œâ”€ Invalid extension
     â”‚      â”‚     â””â”€â†’ "Invalid file type"
     â”‚      â”œâ”€ Too large
     â”‚      â”‚     â””â”€â†’ "File too large"
     â”‚      â””â”€ No title
     â”‚            â””â”€â†’ "Title required"
     â”‚
     â”œâ”€ SAS Token Generation Error
     â”‚      â”œâ”€ Server connection
     â”‚      â”‚     â””â”€â†’ Retry mechanism
     â”‚      â”œâ”€ Authentication
     â”‚      â”‚     â””â”€â†’ Check credentials
     â”‚      â””â”€ Service unavailable
     â”‚            â””â”€â†’ "Service temporarily unavailable"
     â”‚
     â”œâ”€ Upload to Storage Error
     â”‚      â”œâ”€ Network error
     â”‚      â”‚     â””â”€â†’ Retry upload
     â”‚      â”œâ”€ Token expired
     â”‚      â”‚     â””â”€â†’ Get new token
     â”‚      â””â”€ Storage quota
     â”‚            â””â”€â†’ "Storage quota exceeded"
     â”‚
     â””â”€ Metadata Storage Error
          â”œâ”€ Database connection
          â”‚     â””â”€â†’ "Failed to save metadata"
          â””â”€ Constraint violation
                â””â”€â†’ "Duplicate entry"

All errors logged for debugging
User receives friendly message
Application continues running
```

---

## ðŸ“ˆ Scalability Flow

```
Single User Deployment
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  App Service F1 â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   (1 instance)  â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
         â”‚                           â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                     â”‚
                                     â–¼
                        Auto-scale to Premium P1
                             (if needed)
                                     â”‚
                                     â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Multiple Instances     â”‚
                        â”‚  - Load balanced        â”‚
                        â”‚  - High availability    â”‚
                        â”‚  - Better performance   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
Storage & Database (Already Global)
  - Blob: Unlimited scale
  - Cosmos: Multi-region ready
  - Auto-failover available
```

---

## ðŸŽ¯ User Experience Journey

```
First Time User
    â”‚
    â”œâ”€ Visit /Videos/Upload
    â”‚     â”‚
    â”‚     â””â”€â†’ See modern upload interface
    â”‚           - Clear instructions
    â”‚           - Drag zone highlighted
    â”‚           - Upload button prominent
    â”‚
    â”œâ”€ Select Video
    â”‚     â”‚
    â”‚     â”œâ”€ By clicking: Opens file browser
    â”‚     â””â”€ By dragging: Drop on zone
    â”‚           â”‚
    â”‚           â–¼
    â”‚     File preview shows:
    â”‚     - Filename
    â”‚     - File size
    â”‚     - Nice preview card
    â”‚
    â”œâ”€ Enter Metadata
    â”‚     â”‚
    â”‚     â”œâ”€ Title (required) - Auto-focused
    â”‚     â””â”€ Description (optional)
    â”‚
    â”œâ”€ Click Upload
    â”‚     â”‚
    â”‚     â””â”€â†’ Progress bar appears
    â”‚           - Shows "Obtaining credentials"
    â”‚           - Shows "Uploading video..."
    â”‚           - Shows "Finalizing upload..."
    â”‚
    â”œâ”€ See Success
    â”‚     â”‚
    â”‚     â””â”€â†’ Success message displayed
    â”‚           - Video title confirmed
    â”‚           - Can upload another
    â”‚           - Can view videos
    â”‚
    â””â”€ Share & Enjoy
          â””â”€â†’ Video available in library
```

---

## ðŸ“‹ Configuration Overview

```
Application Configuration Hierarchy
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   appsettings.json           â”‚
    â”‚   (Default values)           â”‚
    â”‚   - Database name            â”‚
    â”‚   - Container names          â”‚
    â”‚   - SAS validity (30 min)     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
    Override with Environment Variables
                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Azure App Service Settings  â”‚
    â”‚   (Production values)         â”‚
    â”‚   - Connection strings        â”‚
    â”‚   - API keys                  â”‚
    â”‚   - Feature flags             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
    Application reads: Env Vars > Config File
```

---

**This completes the VideoMania visual documentation!**

All diagrams show:

- Complete upload flow
- Security measures
- Data flow paths
- Error handling
- Scalability path
- User experience
- Configuration system

Reference these diagrams when understanding or explaining the system.
